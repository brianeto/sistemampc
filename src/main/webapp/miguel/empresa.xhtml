<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>


        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12">
                    <h:form>

                        <p:growl id="growl" sticky="true" showDetail="true"/>

                        <p:wizard flowListener="#{registrarEmpresaControlador.onFlowProcess}" 
                                  nextLabel="Siguiente"
                                  backLabel="Volver">
                            <p:tab id="personal" title="Datos generales">
                                <b:panel look="success"
                                         collapsible="false">
                                    <f:facet name="heading">
                                        <div style="color:white">
                                            Datos con los cuales se distingue a la empresa
                                        </div>
                                    </f:facet>
                                    <b:form >
                                        <b:formGroup>
                                            <b:inputText id="razonSocial"
                                                         label="Razón social"
                                                         value="#{registrarEmpresaControlador.empresa.razonSocial}"/>
                                            <b:message for="razonSocial"/>
                                        </b:formGroup>
                                        <b:formGroup>
                                            <b:inputText id="direccion"
                                                         label="Dirección"
                                                         value="#{registrarEmpresaControlador.empresa.direccion}"/>
                                            <b:message for="direccion"/>
                                        </b:formGroup>
                                        <b:formGroup>
                                            <h:outputLabel for="sectorEconomico" value="Sector económico *"/>
                                            <h:selectOneMenu id="sectorEconomico"
                                                             class="form-control"
                                                             value="#{registrarEmpresaControlador.empresa.sectorEconomicoId}"
                                                             required="true"
                                                             requiredMessage="Se requiere de un sector económico.">
                                                <f:selectItem itemLabel="Seleccion" itemValue=""/>
                                                <f:selectItems value="#{sectorEconomicoControlador.sectorEconomicos()}" itemLabel="#{se.nombre}" var="se" itemValue="#{se}"/>
                                            </h:selectOneMenu>
                                            <b:message for="sectorEconomico"/>
                                        </b:formGroup>
                                        <b:formGroup>
                                            <b:inputText id="sitioWeb"
                                                         label="Dirección sitio web (Opcional)"
                                                         value="#{registrarEmpresaControlador.empresa.sitioWeb}"/>
                                            <b:message for="sitioWeb"/>
                                        </b:formGroup>
                                    </b:form>
                                </b:panel>
                            </p:tab>

                            <p:tab id="address" title="Datos de contacto">
                                <b:panel look="info"
                                         collapsible="false">
                                    <f:facet name="heading">
                                        <div style="color:white">
                                            Datos de contacto de la empresa.
                                        </div>
                                    </f:facet>
                                    <b:form >
                                        <b:formGroup>
                                            <b:inputText id="nombreContact"
                                                         label="Nombre completo"
                                                         value="#{registrarEmpresaControlador.contactoEmpresa.nombreCompleto}"/>
                                            <b:message for="nombreContact"/>
                                        </b:formGroup>
                                        <b:formGroup>
                                            <b:inputText id="numeroTelefono"
                                                         label="Número teléfono"
                                                         value="#{registrarEmpresaControlador.contactoEmpresa.numeroTelefono}"/>
                                            <b:message for="numeroTelefono"/>
                                        </b:formGroup>
                                        <b:formGroup>
                                            <b:inputText id="correoElectronicoContact"
                                                         label="Correo electrónico"
                                                         value="#{registrarEmpresaControlador.contactoEmpresa.correoElectronico}"/>
                                            <b:message for="correoElectronicoContact"/>
                                        </b:formGroup>
                                    </b:form>
                                </b:panel>
                            </p:tab>

                            <p:tab id="contact" title="Datos de ingreso">
                                <b:panel look="success"
                                         collapsible="false">
                                    <f:facet name="heading">
                                        <div style="color:white">
                                            Datos de ingreso
                                        </div>
                                    </f:facet>
                                    <b:form >
                                        <b:formGroup>
                                            <b:inputText id="usuario"
                                                         label="Usuario"
                                                         value="#{registrarEmpresaControlador.usuario.usuario}"/>
                                            <b:message for="usuario"/>
                                        </b:formGroup>
                                        <b:formGroup>
                                            <b:inputSecret id="clave"
                                                           label="Contraseña"
                                                           value="#{registrarEmpresaControlador.usuario.clave}"/>
                                            <b:message for="clave"/>
                                        </b:formGroup>
                                        <b:formGroup>
                                            <b:inputSecret id="cclave"
                                                           label="Confirmar contarseña"
                                                           value="#{registrarEmpresaControlador.repetirClave}">
                                                <f:validator validatorId="passwordValidator"/>
                                                <f:attribute name="campo" value="#{component.parent.parent.clientId}:clave"/>
                                            </b:inputSecret>
                                            <b:message for="cclave"/>
                                        </b:formGroup>
                                        <b:formGroup>
                                            <h:outputLabel for="psecreta" value="Pregunta secreta" class="control-label"/>
                                            <h:selectOneMenu id="psecreta"
                                                             class="form-control"
                                                             title="Le permitira recuperar su cuenta en caso de perdida"
                                                             value="#{registrarEmpresaControlador.usuario.preguntaSecretaId}" required="true">
                                                <f:selectItem itemValue="" itemLabel="Seleccione una pregunta secreta"/>
                                                <f:selectItems value="#{preguntaSecretaControlador.PreguntaSecretas()}" var="ps" itemLabel="#{ps.pregunta}" itemValue="#{ps.id}"/>
                                            </h:selectOneMenu>
                                            <b:message for="psecreta"/>
                                        </b:formGroup>
                                        <b:formGroup>
                                            <b:inputText id="respuesta"
                                                         label="Respuesta Secreta"
                                                         placeholder="Respuesta Secreta"
                                                         value="#{registarClienteControlador.usuario.respuestaPreguntaSecreta}"/>
                                            <b:message for="respuesta"/>
                                        </b:formGroup>
                                        <hr />
                                        <b:commandButton value="Registrar"
                                                         largeScreen="full-screen"
                                                         look="success"
                                                         actionListener="#{registrarEmpresaControlador.registrarEmpresa()}"/>
                                    </b:form>
                                </b:panel>
                            </p:tab>
                        </p:wizard>

                    </h:form>

                </div>
            </div>
        </div>
    </h:body>
</html>

