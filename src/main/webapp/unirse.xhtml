<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./WEB-INF/template/indexTemplate.xhtml">

            <ui:define name="botones">
                <b:button id="empresaBoton"
                          look="info"
                          class="btn-rigth"
                          style="margin-top: 8px"
                          value="Soy una empresa"/>
                <b:button id="clienteBoton"
                          look="info"
                          class="btn-rigth"
                          style="margin-top: 8px; display: none"
                          value="Atras"/>
            </ui:define>
            <ui:define name="main">
                <div class="row">
                    <div class="col-xs-12 col-md-5 last-xs">
                        <h2>
                            Tenga en cuenta que...
                        </h2>
                        <hr />
                        <ul style="margin-left: 20px;">
                            <li>
                                <strong>Acceso</strong> <br />
                                <ol>
                                    <li>
                                        Para acceder a la aplicación es necesario contar con <b>Número de identificación (Número de cédula)</b> ya que este sera su usuario.
                                    </li>
                                    <br />
                                    <li>
                                        La contraseña <b>se genera automaticamente recuerde anotarla</b> y posteriormente actualizarla desde el perfil.
                                    </li>
                                </ol>
                                <br />

                            </li>
                            <li>
                                <strong>Registro</strong> <br /><br /> Al registrarse, el usuario va a disponer de un usuario y una contraseña que van a hacer posible que, en el caso de tener problemas con la aplicación, nuestro administrador pueda hacer un seguimiento
                                para solucionarlos.
                                <br /><br />
                            </li>
                            <li>
                                <strong>Tareas realizadas</strong> <br /><br /> Por otra parte, el usuario podrá cerrar la sesión e iniciarla de nuevo en el punto en el que se hubiera quedado, ya que el sistema guarda el trabajo realizado.
                                <br /><br />
                            </li>
                        </ul>
                    </div>
                    <div class="col-xs-12 col-md-7" id="clienteDiv">
                        <b:form id="registroClienteFormulario" 
                                class="row"
                                prependId="false">
                            <div class="col-xs-12">
                                <b:messages globalOnly="true"
                                            showDetail="true"
                                            showSummary="true"/>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <h3>Datos de contacto</h3>
                                <b:formGroup>
                                    <b:inputText id="nombre"
                                                 label="Nombre *"
                                                 placeholder="Nombre"
                                                 value="#{registarClienteControlador.cliente.nombres}"/>
                                    <b:message for="nombre"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:inputText id="apellido"
                                                 placeholder="apellidos"
                                                 label="Apellido *"
                                                 value="#{registarClienteControlador.cliente.apellidos}"/>
                                    <b:message for="apellido"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:inputText id="ncedula"
                                                 label="Número de cédula *"
                                                 placeholder="Cédula"
                                                 value="#{registarClienteControlador.cliente.numeroCedula}"/>
                                    <b:message for="ncedula"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <h:outputLabel class="control-label" value="Correo electrónico *" for="correoNuevoCliente"/><br />
                                    <small>Proporcione un correo electrónico válido ya que por este medio recibirá un vinculo por el cual podrá realizar la activación de su cuenta..</small>
                                    <b:inputText id="correoNuevoCliente"
                                                 placeholder="correo eléctronico"
                                                 value="#{registarClienteControlador.cliente.correoElectronico}"/>
                                    <b:message for="correoNuevoCliente"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <h:outputLabel value="Fecha nacimiento *" class="text-muted"/>
                                    <div class="fechaRegister flex">
                                        <b:selectOneMenu id="anio"
                                                         requiredMessage="Año requerido"
                                                         style="flex:1 1 auto"
                                                         value="#{registarClienteControlador.anio}"
                                                         required="true">
                                            <f:selectItem itemValue="" itemLabel="Año *"/>
                                            <f:selectItems value="#{fechaControlador.anios}" var="anio"
                                                           itemLabel="#{anio}" itemValue="#{anio}"
                                                           rendered="true"/>
                                        </b:selectOneMenu>
                                        <b:selectOneMenu id="mes"
                                                         requiredMessage="Mes requerido"
                                                         style="flex:1 1 auto"
                                                         value="#{registarClienteControlador.mes}"
                                                         required="true">
                                            <f:selectItem itemValue="" itemLabel="Mes *"/>
                                            <f:selectItems value="#{fechaControlador.meses}" var="mes"
                                                           itemLabel="#{mes[1]}" itemValue="#{mes[0]}"/>
                                        </b:selectOneMenu>
                                        <b:selectOneMenu id="dia"
                                                         requiredMessage="Día requerido"
                                                         style="flex:1 1 auto"
                                                         value="#{registarClienteControlador.dia}"
                                                         required="true">
                                            <f:selectItem itemValue="" itemLabel="Día *"/>
                                            <f:selectItems value="#{fechaControlador.dias}" var="dia" itemValue="#{dia}"  itemLabel="#{dia}"/>
                                        </b:selectOneMenu>
                                    </div>
                                </b:formGroup>
                                <div class="form-group mensaje flex" >
                                    <b:message for="anio" style="flex: 1 1 auto"/>
                                    <b:message for="mes" style="flex: 1 1 auto"/>
                                    <b:message for="dia" style="flex: 1 1 auto"/>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <h3>Datos de ingreso</h3>
                                <b:formGroup>
                                    <b:inputText id="usuarioClienteRegistro"
                                                 placeholder="Usuario"
                                                 label="Nombre de cuenta"
                                                 value="#{registarClienteControlador.usuario.usuario}"/>
                                    <b:message for="usuarioClienteRegistro"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:inputSecret id="claveClienteRegistro"
                                                   placeholder="Contraseña"
                                                   label="Contraseña"
                                                   value="#{registarClienteControlador.usuario.clave}"/>
                                    <b:message for="claveClienteRegistro"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:inputSecret id="cclave"
                                                   placeholder="Confirmar contraseña"
                                                   label="Confirmar contarseña"
                                                   value="#{registarClienteControlador.repetirClave}">
                                        <f:validator validatorId="passwordValidator"/>
                                        <f:attribute name="campo" value="#{component.parent.parent.clientId}:claveClienteRegistro"/>
                                    </b:inputSecret>
                                    <b:message for="cclave"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <h:outputLabel value="Pregunta de ingreso" for="psecreta"></h:outputLabel><br />
                                    <small>Le permitira recuperar su contraseña en caso de perdida.</small>
                                    <h:selectOneMenu class="form-control" id="psecreta"
                                                     label="Pregunta secreta"
                                                     title="Le permitira recuperar su cuenta en caso de perdida"
                                                     value="#{registarClienteControlador.usuario.preguntaSecretaId}" 
                                                     required="true"
                                                     requiredMessage="Seleccione un pregunta">
                                        <f:selectItem itemValue="" itemLabel="Seleccione una pregunta secreta"/>
                                        <f:selectItems value="#{preguntaSecretaControlador.PreguntaSecretas()}" var="ps" itemLabel="#{ps.pregunta}" itemValue="#{ps}"/>
                                    </h:selectOneMenu>
                                    <b:message for="psecreta"/>
                                </b:formGroup>

                                <b:formGroup>
                                    <b:inputText id="respuesta"
                                                 label="Respuesta Secreta"
                                                 placeholder="Respuesta Secreta"
                                                 value="#{registarClienteControlador.usuario.respuestaPreguntaSecreta}"/>
                                    <b:message for="respuesta"/>
                                </b:formGroup>
                            </div>
                            <div class="col-xs-12 flex end-xs">
                                <b:commandButton look="success"
                                                 class="btn-lg"
                                                 iconAwesome="user-plus"
                                                 value="Registrarme"
                                                 actionListener="#{registarClienteControlador.registrarCliente()}" 
                                                 update="@form"/>
                            </div>
                        </b:form>
                    </div>
                    <div class="col-xs-12 col-md-7" style="display:none" id="empresaDiv">
                        <b:form id="empresaFormularioRegistro" prependId="false" class="row">
                            <div class="col-xs-12">
                                <b:messages showSummary="true" showDetail="true" globalOnly="true"/>
                            </div>
                            <div class="col-xs-12 col-md-6">
                                <h4>Datos generales</h4>
                                <b:formGroup>
                                    <b:inputText id="razonSocial"
                                                 label="Razón social"
                                                 value="#{registrarEmpresaControlador.empresa.razonSocial}"/>
                                    <b:message for="razonSocial"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:inputText id="direccion"
                                                 label="Dirección"
                                                 value="#{registrarEmpresaControlador.empresa.direccion}"/>
                                    <b:message for="direccion"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <h:outputLabel for="sectorEconomico" value="Sector económico *"/>
                                    <h:selectOneMenu id="sectorEconomico"
                                                     class="form-control"
                                                     value="#{registrarEmpresaControlador.empresa.sectorEconomicoId}"
                                                     required="true"
                                                     requiredMessage="Se requiere de un sector económico.">
                                        <f:selectItem itemLabel="Seleccion" itemValue=""/>
                                        <f:selectItems value="#{sectorEconomicoControlador.sectorEconomicos()}" itemLabel="#{se.nombre}" var="se" itemValue="#{se}"/>
                                    </h:selectOneMenu>
                                    <b:message for="sectorEconomico"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:inputText id="sitioWeb"
                                                 label="Dirección sitio web (Opcional)"
                                                 value="#{registrarEmpresaControlador.empresa.sitioWeb}"/>
                                    <b:message for="sitioWeb"/>
                                </b:formGroup>
                            </div>
                            <div class="col-xs-12 col-md-6">
                                <h4>Datos de contacto</h4>
                                <b:formGroup>
                                    <b:inputText id="nombreContact"
                                                 label="Nombre completo"
                                                 value="#{registrarEmpresaControlador.contactoEmpresa.nombreCompleto}"/>
                                    <b:message for="nombreContact"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:inputText id="numeroTelefono"
                                                 label="Número teléfono"
                                                 value="#{registrarEmpresaControlador.contactoEmpresa.numeroTelefono}"/>
                                    <b:message for="numeroTelefono"/>
                                </b:formGroup>
                                <b:formGroup>
                                     <h:outputLabel class="control-label" value="Correo electrónico *" for="correoElectronicoContact"/><br />
                                    <small>Proporcione un correo electrónico válido ya que por este medio recibirá un vinculo por el cual podrá realizar la activación de su cuenta.</small>
                                    <b:inputText id="correoElectronicoContact"
                                                 value="#{registrarEmpresaControlador.contactoEmpresa.correoElectronico}"/>
                                    <b:message for="correoElectronicoContact"/>
                                </b:formGroup>
                            </div>
                            <div class="col-xs-12">
                                <h4>Datos de ingreso</h4>
                                <b:formGroup>
                                    <b:inputText id="usuarioEmpresa"
                                                 label="Usuario"
                                                 value="#{registrarEmpresaControlador.usuario.usuario}"/>
                                    <b:message for="usuarioEmpresa"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:inputSecret id="claveEmpresa"
                                                   label="Contraseña"
                                                   value="#{registrarEmpresaControlador.usuario.clave}"/>
                                    <b:message for="claveEmpresa"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:inputSecret id="cclaveEmpresa"
                                                   label="Confirmar contarseña"
                                                   value="#{registrarEmpresaControlador.repetirClave}">
                                        <f:validator validatorId="passwordValidator"/>
                                        <f:attribute name="campo" value="#{component.parent.parent.clientId}:claveEmpresa"/>
                                    </b:inputSecret>
                                    <b:message for="cclaveEmpresa"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <h:outputLabel value="Pregunta de ingreso" for="psecretaEmpresa"></h:outputLabel><br />
                                    <small>Le permitira recuperar su contraseña en caso de perdida.</small>
                                    <h:selectOneMenu class="form-control" id="psecretaEmpresa"
                                                     label="Pregunta secreta"
                                                     title="Le permitira recuperar su cuenta en caso de perdida"
                                                     value="#{registrarEmpresaControlador.usuario.preguntaSecretaId}" 
                                                     required="true"
                                                     requiredMessage="Seleccione un pregunta">
                                        <f:selectItem itemValue="" itemLabel="Seleccione una pregunta secreta"/>
                                        <f:selectItems value="#{preguntaSecretaControlador.PreguntaSecretas()}" var="ps" itemLabel="#{ps.pregunta}" itemValue="#{ps}"/>
                                    </h:selectOneMenu>
                                    <b:message for="psecretaEmpresa"/>
                                </b:formGroup>

                                <b:formGroup>
                                    <b:inputText id="respuestaEmpresa"
                                                 label="Respuesta Secreta"
                                                 placeholder="Respuesta Secreta"
                                                 value="#{registrarEmpresaControlador.usuario.respuestaPreguntaSecreta}"/>
                                    <b:message for="respuestaEmpresa"/>
                                </b:formGroup>
                                <b:commandButton value="Registrar"
                                                 look="success"
                                                 update="@form"
                                                 actionListener="#{registrarEmpresaControlador.registrarEmpresa()}"/>
                            </div>
                        </b:form>
                    </div>
                </div>
                <script>
                    $(document).ready(function () {
                        $("#empresaBoton").click(function () {
                            $("#clienteDiv").fadeOut(0);
                            $("#empresaDiv").fadeIn(0);
                            $("#clienteBoton").fadeIn(0);
                            $(this).fadeOut(0);
                            $('#registroClienteFormulario').trigger("reset");
                        });
                        $("#clienteBoton").click(function () {
                            $("#empresaDiv").fadeOut(0);
                            $("#clienteDiv").fadeIn(0);
                            $("#empresaBoton").fadeIn(0);
                            $(this).fadeOut(0);
                            $('#empresaFormularioRegistro').trigger("reset");
                        });
                    });
                </script>
            </ui:define>

        </ui:composition>

    </body>
</html>
